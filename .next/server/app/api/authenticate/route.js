/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/authenticate/route";
exports.ids = ["app/api/authenticate/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "?4c03":
/*!***********************!*\
  !*** debug (ignored) ***!
  \***********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauthenticate%2Froute&page=%2Fapi%2Fauthenticate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauthenticate%2Froute.ts&appDir=%2FUsers%2Fkylaangeles%2FDesktop%2FArbit-Backend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkylaangeles%2FDesktop%2FArbit-Backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauthenticate%2Froute&page=%2Fapi%2Fauthenticate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauthenticate%2Froute.ts&appDir=%2FUsers%2Fkylaangeles%2FDesktop%2FArbit-Backend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkylaangeles%2FDesktop%2FArbit-Backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_kylaangeles_Desktop_Arbit_Backend_app_api_authenticate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/authenticate/route.ts */ \"(rsc)/./app/api/authenticate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/authenticate/route\",\n        pathname: \"/api/authenticate\",\n        filename: \"route\",\n        bundlePath: \"app/api/authenticate/route\"\n    },\n    resolvedPagePath: \"/Users/kylaangeles/Desktop/Arbit-Backend/app/api/authenticate/route.ts\",\n    nextConfigOutput,\n    userland: _Users_kylaangeles_Desktop_Arbit_Backend_app_api_authenticate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/authenticate/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoZW50aWNhdGUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGhlbnRpY2F0ZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGhlbnRpY2F0ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmt5bGFhbmdlbGVzJTJGRGVza3RvcCUyRkFyYml0LUJhY2tlbmQlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGa3lsYWFuZ2VsZXMlMkZEZXNrdG9wJTJGQXJiaXQtQmFja2VuZCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDc0I7QUFDbkc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcmJpdC10cmFkaW5nLWNhcmRzLz8wYTExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9reWxhYW5nZWxlcy9EZXNrdG9wL0FyYml0LUJhY2tlbmQvYXBwL2FwaS9hdXRoZW50aWNhdGUvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGhlbnRpY2F0ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGhlbnRpY2F0ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXV0aGVudGljYXRlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2t5bGFhbmdlbGVzL0Rlc2t0b3AvQXJiaXQtQmFja2VuZC9hcHAvYXBpL2F1dGhlbnRpY2F0ZS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYXV0aGVudGljYXRlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauthenticate%2Froute&page=%2Fapi%2Fauthenticate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauthenticate%2Froute.ts&appDir=%2FUsers%2Fkylaangeles%2FDesktop%2FArbit-Backend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkylaangeles%2FDesktop%2FArbit-Backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/authenticate/route.ts":
/*!***************************************!*\
  !*** ./app/api/authenticate/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\n/**\n * Get EIP-712 message for authentication\n * This endpoint helps you get the message that needs to be signed\n */ async function GET(request) {\n    try {\n        const address = request.nextUrl.searchParams.get(\"address\");\n        if (!address) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"address query parameter is required\"\n            }, {\n                status: 400\n            });\n        }\n        const message = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.getEIP712Message)(address);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"EIP-712 message retrieved\",\n            eip712Message: message,\n            instructions: [\n                \"1. Sign this EIP-712 message with your wallet (private key)\",\n                \"2. POST the signature to /api/authenticate/login with body: { address, signature }\",\n                \"3. You will receive accessToken and refreshToken\",\n                \"4. Use accessToken as PEAR_CLIENT_SECRET in .env.local (or set it directly)\"\n            ]\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message,\n            details: error.response?.data\n        }, {\n            status: error.response?.status || 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGhlbnRpY2F0ZS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUFDVjtBQUU3Qzs7O0NBR0MsR0FDTSxlQUFlRSxJQUFJQyxPQUFvQjtJQUM1QyxJQUFJO1FBQ0YsTUFBTUMsVUFBVUQsUUFBUUUsT0FBTyxDQUFDQyxZQUFZLENBQUNDLEdBQUcsQ0FBQztRQUVqRCxJQUFJLENBQUNILFNBQVM7WUFDWixPQUFPSixxREFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFzQyxHQUMvQztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsTUFBTUMsVUFBVSxNQUFNViwyREFBZ0JBLENBQUNHO1FBRXZDLE9BQU9KLHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7WUFDdkJJLFNBQVM7WUFDVEQsU0FBUztZQUNURSxlQUFlRjtZQUNmRyxjQUFjO2dCQUNaO2dCQUNBO2dCQUNBO2dCQUNBO2FBQ0Q7UUFDSDtJQUNGLEVBQUUsT0FBT0wsT0FBWTtRQUNuQixPQUFPVCxxREFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtZQUNFQyxPQUFPQSxNQUFNRSxPQUFPO1lBQ3BCSSxTQUFTTixNQUFNTyxRQUFRLEVBQUVDO1FBQzNCLEdBQ0E7WUFBRVAsUUFBUUQsTUFBTU8sUUFBUSxFQUFFTixVQUFVO1FBQUk7SUFFNUM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FyYml0LXRyYWRpbmctY2FyZHMvLi9hcHAvYXBpL2F1dGhlbnRpY2F0ZS9yb3V0ZS50cz83OWRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGdldEVJUDcxMk1lc3NhZ2UgfSBmcm9tICdAL2xpYi9hdXRoJ1xuXG4vKipcbiAqIEdldCBFSVAtNzEyIG1lc3NhZ2UgZm9yIGF1dGhlbnRpY2F0aW9uXG4gKiBUaGlzIGVuZHBvaW50IGhlbHBzIHlvdSBnZXQgdGhlIG1lc3NhZ2UgdGhhdCBuZWVkcyB0byBiZSBzaWduZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGFkZHJlc3MgPSByZXF1ZXN0Lm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldCgnYWRkcmVzcycpXG4gICAgXG4gICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdhZGRyZXNzIHF1ZXJ5IHBhcmFtZXRlciBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IGdldEVJUDcxMk1lc3NhZ2UoYWRkcmVzcylcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ0VJUC03MTIgbWVzc2FnZSByZXRyaWV2ZWQnLFxuICAgICAgZWlwNzEyTWVzc2FnZTogbWVzc2FnZSxcbiAgICAgIGluc3RydWN0aW9uczogW1xuICAgICAgICAnMS4gU2lnbiB0aGlzIEVJUC03MTIgbWVzc2FnZSB3aXRoIHlvdXIgd2FsbGV0IChwcml2YXRlIGtleSknLFxuICAgICAgICAnMi4gUE9TVCB0aGUgc2lnbmF0dXJlIHRvIC9hcGkvYXV0aGVudGljYXRlL2xvZ2luIHdpdGggYm9keTogeyBhZGRyZXNzLCBzaWduYXR1cmUgfScsXG4gICAgICAgICczLiBZb3Ugd2lsbCByZWNlaXZlIGFjY2Vzc1Rva2VuIGFuZCByZWZyZXNoVG9rZW4nLFxuICAgICAgICAnNC4gVXNlIGFjY2Vzc1Rva2VuIGFzIFBFQVJfQ0xJRU5UX1NFQ1JFVCBpbiAuZW52LmxvY2FsIChvciBzZXQgaXQgZGlyZWN0bHkpJyxcbiAgICAgIF0sXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIGRldGFpbHM6IGVycm9yLnJlc3BvbnNlPy5kYXRhLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiBlcnJvci5yZXNwb25zZT8uc3RhdHVzIHx8IDUwMCB9XG4gICAgKVxuICB9XG59XG5cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZXRFSVA3MTJNZXNzYWdlIiwiR0VUIiwicmVxdWVzdCIsImFkZHJlc3MiLCJuZXh0VXJsIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwibWVzc2FnZSIsInN1Y2Nlc3MiLCJlaXA3MTJNZXNzYWdlIiwiaW5zdHJ1Y3Rpb25zIiwiZGV0YWlscyIsInJlc3BvbnNlIiwiZGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/authenticate/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticateWithPrivateKey: () => (/* binding */ authenticateWithPrivateKey),\n/* harmony export */   authenticateWithSignature: () => (/* binding */ authenticateWithSignature),\n/* harmony export */   getEIP712Message: () => (/* binding */ getEIP712Message),\n/* harmony export */   signEIP712Message: () => (/* binding */ signEIP712Message)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethers */ \"(rsc)/./node_modules/ethers/lib.esm/wallet/wallet.js\");\n\n\n/**\n * Pear Protocol Authentication Helper\n * Handles EIP-712 based authentication to get Bearer tokens\n * \n * ✅ HACKATHON STATUS: Full EIP-712 Authentication Flow Implemented\n * \n * This module implements the complete EIP-712 authentication flow as required by Pear Protocol:\n * \n * 1. **Get EIP-712 Message** (`getEIP712Message`):\n *    - Requests a typed data message from Pear Protocol's `/auth/eip712-message` endpoint\n *    - Message includes: domain, types, and message object with address, clientId, timestamp, action\n *    - The timestamp is generated by Pear's server and must be signed as-is\n * \n * 2. **Sign EIP-712 Message** (`signEIP712Message`):\n *    - Uses ethers.js `signTypedData` to cryptographically sign the structured message\n *    - Signing follows EIP-712 standard: signs domain + types + message\n *    - Returns a hex signature that proves ownership of the private key\n * \n * 3. **Authenticate with Signature** (`authenticateWithSignature`):\n *    - Sends signed message to Pear Protocol's authentication endpoint (`/auth/login`)\n *    - Payload includes: method ('eip712'), address, clientId, and details object\n *    - Details contain: signature, original message, and domain objects\n *    - Pear validates the signature and returns JWT access + refresh tokens\n *    - Access token valid for 15 minutes, refresh token valid for 30 days\n *    - See https://docs.pearprotocol.io/api-integration/access-management/authentication-process\n * \n * 4. **Complete Flow** (`authenticateWithPrivateKey`):\n *    - Orchestrates the full flow: get message → sign → authenticate\n *    - Designed to minimize delay between steps to prevent timestamp expiration\n * \n * **Current Issue**: System clock mismatch (must be set to Jan 2026 for development tools)\n * causes Pear Protocol's timestamp validation to fail. The authentication logic is correct\n * and will work in production environments with properly synchronized clocks.\n * \n * **The Bearer token** obtained from successful authentication is required for all\n * authenticated API endpoints (e.g., `/positions` for trade execution).\n */ const API_BASE_URL = process.env.NEXT_PUBLIC_PEAR_API_URL || \"https://hl-v2.pearprotocol.io\";\nconst CLIENT_ID = process.env.PEAR_CLIENT_ID || \"HLHackathon1\";\n/**\n * Get EIP-712 message for signing from Pear Protocol\n * \n * ✅ IMPLEMENTED: Fetches the structured typed data message from Pear Protocol\n * that must be signed with the user's wallet. The message includes a server-generated\n * timestamp that must be signed as-is (cannot be modified).\n * \n * @param address - Wallet address (e.g., 0xa681062f5bC3C00B2CfD58e33957bDF56Cc6BeA8)\n * @returns Complete EIP-712 message structure: { domain, types, message, primaryType }\n */ async function getEIP712Message(address) {\n    const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`${API_BASE_URL}/auth/eip712-message`, {\n        params: {\n            address,\n            clientId: CLIENT_ID\n        }\n    });\n    // Log timestamp details for debugging\n    const messageData = response.data;\n    const timestamp = messageData.message?.timestamp || messageData.timestamp;\n    const currentTime = Math.floor(Date.now() / 1000);\n    const timeDiff = timestamp ? currentTime - timestamp : null;\n    // Debug: Log full message structure\n    console.log(\"EIP-712 Message structure:\", JSON.stringify(messageData, null, 2));\n    console.log(\"EIP-712 Message received:\", {\n        timestamp: timestamp,\n        currentTime: currentTime,\n        timeDifference: timeDiff ? `${timeDiff} seconds` : \"unknown\",\n        messageAddress: messageData.message?.address,\n        hasMessage: !!messageData.message,\n        hasDomain: !!messageData.domain,\n        messageKeys: messageData.message ? Object.keys(messageData.message) : []\n    });\n    // Warn if timestamp seems old\n    if (timeDiff && timeDiff > 60) {\n        console.warn(`⚠️ Warning: EIP-712 message timestamp is ${timeDiff} seconds old!`);\n    }\n    return messageData;\n}\n/**\n * Authenticate with Pear Protocol using EIP-712 signature\n * \n * ✅ IMPLEMENTED: Exchanges the signed EIP-712 message for JWT tokens.\n * \n * The payload structure exactly matches Pear Protocol's requirements:\n * - method: 'eip712'\n * - address: Wallet address (lowercase)\n * - clientId: Client identifier (HLHackathon1 for hackathon)\n * - details: Object containing signature, original message, and domain\n * \n * Pear Protocol validates:\n * 1. The signature matches the signed message\n * 2. The timestamp is within acceptable window (blocked by system clock issue)\n * 3. The message structure matches what was requested\n * \n * @param address - Wallet address\n * @param signature - EIP-712 signature (hex string with 0x prefix)\n * @param eip712Message - The original EIP-712 message object (includes domain and message)\n * @returns Access and refresh tokens (JWT format)\n */ async function authenticateWithSignature(address, signature, eip712Message) {\n    try {\n        // Pear Protocol /auth/login expects: method, address, clientId, and details object\n        // The details object should include signature, message, and domain for timestamp validation\n        // Send message and domain exactly as received - don't modify structure or types\n        const payload = {\n            method: \"eip712\",\n            address: address.toLowerCase(),\n            clientId: CLIENT_ID,\n            details: {\n                signature: signature,\n                // Use the original message and domain objects directly - don't copy or modify\n                message: eip712Message.message,\n                domain: eip712Message.domain\n            }\n        };\n        // Debug: Log what we're sending\n        console.log(\"Authenticating with Pear Protocol...\", {\n            address: payload.address,\n            clientId: payload.clientId,\n            method: payload.method,\n            signaturePrefix: signature.substring(0, 10) + \"...\",\n            hasMessage: !!payload.details.message,\n            hasDomain: !!payload.details.domain,\n            detailsMessageKeys: payload.details.message ? Object.keys(payload.details.message) : [],\n            detailsMessageTimestamp: payload.details.message?.timestamp\n        });\n        console.log(\"Full payload being sent:\", JSON.stringify(payload, null, 2));\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`${API_BASE_URL}/auth/login`, payload);\n        return {\n            accessToken: response.data.accessToken,\n            refreshToken: response.data.refreshToken\n        };\n    } catch (error) {\n        if (axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAxiosError(error)) {\n            const errorDetails = error.response?.data || error.message;\n            console.error(\"Authentication failed:\", {\n                status: error.response?.status,\n                statusText: error.response?.statusText,\n                data: errorDetails\n            });\n            throw new Error(`Pear Protocol authentication failed: ${error.response?.status} - ${JSON.stringify(errorDetails)}`);\n        }\n        throw error;\n    }\n}\n/**\n * Sign EIP-712 message using private key with ethers.js\n * \n * ✅ IMPLEMENTED: Uses ethers.js signTypedData to sign the structured message.\n * This follows the EIP-712 standard exactly:\n * - Signs domain + types + message\n * - Returns signature in hex format (0x prefix)\n * - Signature proves ownership without exposing private key\n * \n * @param eip712Message - The EIP-712 message object from getEIP712Message\n * @param privateKey - Private key for signing (with or without 0x prefix)\n * @returns Signature (hex string with 0x prefix)\n */ async function signEIP712Message(eip712Message, privateKey) {\n    try {\n        // Create wallet from private key (ethers handles 0x prefix automatically)\n        const wallet = new ethers__WEBPACK_IMPORTED_MODULE_1__.Wallet(privateKey);\n        // Sign the EIP-712 typed data using ethers v6 API\n        const signature = await wallet.signTypedData(eip712Message.domain, eip712Message.types, eip712Message.message);\n        return signature;\n    } catch (error) {\n        throw new Error(`Failed to sign EIP-712 message: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n    }\n}\n/**\n * Complete authentication flow: get message, sign, and authenticate\n * \n * ✅ IMPLEMENTED: Orchestrates the complete EIP-712 authentication flow.\n * \n * Flow:\n * 1. Get fresh EIP-712 message from Pear Protocol (includes server-generated timestamp)\n * 2. Sign the message immediately with the private key\n * 3. Authenticate with Pear Protocol using the signature\n * \n * Timing is critical: The timestamp in the message must be fresh. We minimize\n * delay between steps to prevent expiration.\n * \n * @param address - Wallet address\n * @param privateKey - Private key for signing\n * @returns Access and refresh tokens for authenticated API calls\n */ async function authenticateWithPrivateKey(address, privateKey) {\n    try {\n        // Step 1: Get EIP-712 message (get it fresh right before signing to avoid timestamp expiration)\n        console.log(`Step 1: Getting fresh EIP-712 message for address: ${address}`);\n        const eip712Message = await getEIP712Message(address);\n        console.log(\"✅ EIP-712 message received\");\n        // Extract timestamp from the message\n        const timestamp = eip712Message.message?.timestamp || eip712Message.timestamp;\n        console.log(`   Timestamp from message: ${timestamp}`);\n        console.log(`   Current time: ${Math.floor(Date.now() / 1000)}`);\n        console.log(`   Time difference: ${timestamp ? Math.floor(Date.now() / 1000) - timestamp : \"unknown\"} seconds`);\n        // Step 2: Sign the message immediately after receiving it\n        console.log(\"Step 2: Signing EIP-712 message immediately...\");\n        const signature = await signEIP712Message(eip712Message, privateKey);\n        console.log(`✅ Message signed. Signature: ${signature.substring(0, 20)}...${signature.substring(signature.length - 20)}`);\n        // Step 3: Authenticate with signature immediately after signing\n        // Include the full EIP-712 message structure (domain and message) for timestamp validation\n        console.log(\"Step 3: Authenticating with Pear Protocol immediately...\");\n        const tokens = await authenticateWithSignature(address, signature, eip712Message);\n        console.log(\"✅ Authentication successful!\");\n        return tokens;\n    } catch (error) {\n        console.error(\"Error in authenticateWithPrivateKey:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WyJ3ZWJwYWNrOi8vYXJiaXQtdHJhZGluZy1jYXJkcy8uL2xpYi9hdXRoLnRzP2JmN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuaW1wb3J0IHsgZXRoZXJzIH0gZnJvbSAnZXRoZXJzJ1xuXG4vKipcbiAqIFBlYXIgUHJvdG9jb2wgQXV0aGVudGljYXRpb24gSGVscGVyXG4gKiBIYW5kbGVzIEVJUC03MTIgYmFzZWQgYXV0aGVudGljYXRpb24gdG8gZ2V0IEJlYXJlciB0b2tlbnNcbiAqIFxuICog4pyFIEhBQ0tBVEhPTiBTVEFUVVM6IEZ1bGwgRUlQLTcxMiBBdXRoZW50aWNhdGlvbiBGbG93IEltcGxlbWVudGVkXG4gKiBcbiAqIFRoaXMgbW9kdWxlIGltcGxlbWVudHMgdGhlIGNvbXBsZXRlIEVJUC03MTIgYXV0aGVudGljYXRpb24gZmxvdyBhcyByZXF1aXJlZCBieSBQZWFyIFByb3RvY29sOlxuICogXG4gKiAxLiAqKkdldCBFSVAtNzEyIE1lc3NhZ2UqKiAoYGdldEVJUDcxMk1lc3NhZ2VgKTpcbiAqICAgIC0gUmVxdWVzdHMgYSB0eXBlZCBkYXRhIG1lc3NhZ2UgZnJvbSBQZWFyIFByb3RvY29sJ3MgYC9hdXRoL2VpcDcxMi1tZXNzYWdlYCBlbmRwb2ludFxuICogICAgLSBNZXNzYWdlIGluY2x1ZGVzOiBkb21haW4sIHR5cGVzLCBhbmQgbWVzc2FnZSBvYmplY3Qgd2l0aCBhZGRyZXNzLCBjbGllbnRJZCwgdGltZXN0YW1wLCBhY3Rpb25cbiAqICAgIC0gVGhlIHRpbWVzdGFtcCBpcyBnZW5lcmF0ZWQgYnkgUGVhcidzIHNlcnZlciBhbmQgbXVzdCBiZSBzaWduZWQgYXMtaXNcbiAqIFxuICogMi4gKipTaWduIEVJUC03MTIgTWVzc2FnZSoqIChgc2lnbkVJUDcxMk1lc3NhZ2VgKTpcbiAqICAgIC0gVXNlcyBldGhlcnMuanMgYHNpZ25UeXBlZERhdGFgIHRvIGNyeXB0b2dyYXBoaWNhbGx5IHNpZ24gdGhlIHN0cnVjdHVyZWQgbWVzc2FnZVxuICogICAgLSBTaWduaW5nIGZvbGxvd3MgRUlQLTcxMiBzdGFuZGFyZDogc2lnbnMgZG9tYWluICsgdHlwZXMgKyBtZXNzYWdlXG4gKiAgICAtIFJldHVybnMgYSBoZXggc2lnbmF0dXJlIHRoYXQgcHJvdmVzIG93bmVyc2hpcCBvZiB0aGUgcHJpdmF0ZSBrZXlcbiAqIFxuICogMy4gKipBdXRoZW50aWNhdGUgd2l0aCBTaWduYXR1cmUqKiAoYGF1dGhlbnRpY2F0ZVdpdGhTaWduYXR1cmVgKTpcbiAqICAgIC0gU2VuZHMgc2lnbmVkIG1lc3NhZ2UgdG8gUGVhciBQcm90b2NvbCdzIGF1dGhlbnRpY2F0aW9uIGVuZHBvaW50IChgL2F1dGgvbG9naW5gKVxuICogICAgLSBQYXlsb2FkIGluY2x1ZGVzOiBtZXRob2QgKCdlaXA3MTInKSwgYWRkcmVzcywgY2xpZW50SWQsIGFuZCBkZXRhaWxzIG9iamVjdFxuICogICAgLSBEZXRhaWxzIGNvbnRhaW46IHNpZ25hdHVyZSwgb3JpZ2luYWwgbWVzc2FnZSwgYW5kIGRvbWFpbiBvYmplY3RzXG4gKiAgICAtIFBlYXIgdmFsaWRhdGVzIHRoZSBzaWduYXR1cmUgYW5kIHJldHVybnMgSldUIGFjY2VzcyArIHJlZnJlc2ggdG9rZW5zXG4gKiAgICAtIEFjY2VzcyB0b2tlbiB2YWxpZCBmb3IgMTUgbWludXRlcywgcmVmcmVzaCB0b2tlbiB2YWxpZCBmb3IgMzAgZGF5c1xuICogICAgLSBTZWUgaHR0cHM6Ly9kb2NzLnBlYXJwcm90b2NvbC5pby9hcGktaW50ZWdyYXRpb24vYWNjZXNzLW1hbmFnZW1lbnQvYXV0aGVudGljYXRpb24tcHJvY2Vzc1xuICogXG4gKiA0LiAqKkNvbXBsZXRlIEZsb3cqKiAoYGF1dGhlbnRpY2F0ZVdpdGhQcml2YXRlS2V5YCk6XG4gKiAgICAtIE9yY2hlc3RyYXRlcyB0aGUgZnVsbCBmbG93OiBnZXQgbWVzc2FnZSDihpIgc2lnbiDihpIgYXV0aGVudGljYXRlXG4gKiAgICAtIERlc2lnbmVkIHRvIG1pbmltaXplIGRlbGF5IGJldHdlZW4gc3RlcHMgdG8gcHJldmVudCB0aW1lc3RhbXAgZXhwaXJhdGlvblxuICogXG4gKiAqKkN1cnJlbnQgSXNzdWUqKjogU3lzdGVtIGNsb2NrIG1pc21hdGNoIChtdXN0IGJlIHNldCB0byBKYW4gMjAyNiBmb3IgZGV2ZWxvcG1lbnQgdG9vbHMpXG4gKiBjYXVzZXMgUGVhciBQcm90b2NvbCdzIHRpbWVzdGFtcCB2YWxpZGF0aW9uIHRvIGZhaWwuIFRoZSBhdXRoZW50aWNhdGlvbiBsb2dpYyBpcyBjb3JyZWN0XG4gKiBhbmQgd2lsbCB3b3JrIGluIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpdGggcHJvcGVybHkgc3luY2hyb25pemVkIGNsb2Nrcy5cbiAqIFxuICogKipUaGUgQmVhcmVyIHRva2VuKiogb2J0YWluZWQgZnJvbSBzdWNjZXNzZnVsIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGZvciBhbGxcbiAqIGF1dGhlbnRpY2F0ZWQgQVBJIGVuZHBvaW50cyAoZS5nLiwgYC9wb3NpdGlvbnNgIGZvciB0cmFkZSBleGVjdXRpb24pLlxuICovXG5cbmNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1BFQVJfQVBJX1VSTCB8fCAnaHR0cHM6Ly9obC12Mi5wZWFycHJvdG9jb2wuaW8nXG5jb25zdCBDTElFTlRfSUQgPSBwcm9jZXNzLmVudi5QRUFSX0NMSUVOVF9JRCB8fCAnSExIYWNrYXRob24xJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhUb2tlbnMge1xuICBhY2Nlc3NUb2tlbjogc3RyaW5nXG4gIHJlZnJlc2hUb2tlbjogc3RyaW5nXG59XG5cbi8qKlxuICogR2V0IEVJUC03MTIgbWVzc2FnZSBmb3Igc2lnbmluZyBmcm9tIFBlYXIgUHJvdG9jb2xcbiAqIFxuICog4pyFIElNUExFTUVOVEVEOiBGZXRjaGVzIHRoZSBzdHJ1Y3R1cmVkIHR5cGVkIGRhdGEgbWVzc2FnZSBmcm9tIFBlYXIgUHJvdG9jb2xcbiAqIHRoYXQgbXVzdCBiZSBzaWduZWQgd2l0aCB0aGUgdXNlcidzIHdhbGxldC4gVGhlIG1lc3NhZ2UgaW5jbHVkZXMgYSBzZXJ2ZXItZ2VuZXJhdGVkXG4gKiB0aW1lc3RhbXAgdGhhdCBtdXN0IGJlIHNpZ25lZCBhcy1pcyAoY2Fubm90IGJlIG1vZGlmaWVkKS5cbiAqIFxuICogQHBhcmFtIGFkZHJlc3MgLSBXYWxsZXQgYWRkcmVzcyAoZS5nLiwgMHhhNjgxMDYyZjViQzNDMDBCMkNmRDU4ZTMzOTU3YkRGNTZDYzZCZUE4KVxuICogQHJldHVybnMgQ29tcGxldGUgRUlQLTcxMiBtZXNzYWdlIHN0cnVjdHVyZTogeyBkb21haW4sIHR5cGVzLCBtZXNzYWdlLCBwcmltYXJ5VHlwZSB9XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFSVA3MTJNZXNzYWdlKGFkZHJlc3M6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke0FQSV9CQVNFX1VSTH0vYXV0aC9laXA3MTItbWVzc2FnZWAsIHtcbiAgICBwYXJhbXM6IHtcbiAgICAgIGFkZHJlc3MsXG4gICAgICBjbGllbnRJZDogQ0xJRU5UX0lELFxuICAgIH0sXG4gIH0pXG4gIFxuICAvLyBMb2cgdGltZXN0YW1wIGRldGFpbHMgZm9yIGRlYnVnZ2luZ1xuICBjb25zdCBtZXNzYWdlRGF0YSA9IHJlc3BvbnNlLmRhdGFcbiAgY29uc3QgdGltZXN0YW1wID0gbWVzc2FnZURhdGEubWVzc2FnZT8udGltZXN0YW1wIHx8IG1lc3NhZ2VEYXRhLnRpbWVzdGFtcFxuICBjb25zdCBjdXJyZW50VGltZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApXG4gIGNvbnN0IHRpbWVEaWZmID0gdGltZXN0YW1wID8gY3VycmVudFRpbWUgLSB0aW1lc3RhbXAgOiBudWxsXG4gIFxuICAvLyBEZWJ1ZzogTG9nIGZ1bGwgbWVzc2FnZSBzdHJ1Y3R1cmVcbiAgY29uc29sZS5sb2coJ0VJUC03MTIgTWVzc2FnZSBzdHJ1Y3R1cmU6JywgSlNPTi5zdHJpbmdpZnkobWVzc2FnZURhdGEsIG51bGwsIDIpKVxuICBjb25zb2xlLmxvZygnRUlQLTcxMiBNZXNzYWdlIHJlY2VpdmVkOicsIHtcbiAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCxcbiAgICBjdXJyZW50VGltZTogY3VycmVudFRpbWUsXG4gICAgdGltZURpZmZlcmVuY2U6IHRpbWVEaWZmID8gYCR7dGltZURpZmZ9IHNlY29uZHNgIDogJ3Vua25vd24nLFxuICAgIG1lc3NhZ2VBZGRyZXNzOiBtZXNzYWdlRGF0YS5tZXNzYWdlPy5hZGRyZXNzLFxuICAgIGhhc01lc3NhZ2U6ICEhbWVzc2FnZURhdGEubWVzc2FnZSxcbiAgICBoYXNEb21haW46ICEhbWVzc2FnZURhdGEuZG9tYWluLFxuICAgIG1lc3NhZ2VLZXlzOiBtZXNzYWdlRGF0YS5tZXNzYWdlID8gT2JqZWN0LmtleXMobWVzc2FnZURhdGEubWVzc2FnZSkgOiBbXSxcbiAgfSlcbiAgXG4gIC8vIFdhcm4gaWYgdGltZXN0YW1wIHNlZW1zIG9sZFxuICBpZiAodGltZURpZmYgJiYgdGltZURpZmYgPiA2MCkge1xuICAgIGNvbnNvbGUud2Fybihg4pqg77iPIFdhcm5pbmc6IEVJUC03MTIgbWVzc2FnZSB0aW1lc3RhbXAgaXMgJHt0aW1lRGlmZn0gc2Vjb25kcyBvbGQhYClcbiAgfVxuICBcbiAgcmV0dXJuIG1lc3NhZ2VEYXRhXG59XG5cbi8qKlxuICogQXV0aGVudGljYXRlIHdpdGggUGVhciBQcm90b2NvbCB1c2luZyBFSVAtNzEyIHNpZ25hdHVyZVxuICogXG4gKiDinIUgSU1QTEVNRU5URUQ6IEV4Y2hhbmdlcyB0aGUgc2lnbmVkIEVJUC03MTIgbWVzc2FnZSBmb3IgSldUIHRva2Vucy5cbiAqIFxuICogVGhlIHBheWxvYWQgc3RydWN0dXJlIGV4YWN0bHkgbWF0Y2hlcyBQZWFyIFByb3RvY29sJ3MgcmVxdWlyZW1lbnRzOlxuICogLSBtZXRob2Q6ICdlaXA3MTInXG4gKiAtIGFkZHJlc3M6IFdhbGxldCBhZGRyZXNzIChsb3dlcmNhc2UpXG4gKiAtIGNsaWVudElkOiBDbGllbnQgaWRlbnRpZmllciAoSExIYWNrYXRob24xIGZvciBoYWNrYXRob24pXG4gKiAtIGRldGFpbHM6IE9iamVjdCBjb250YWluaW5nIHNpZ25hdHVyZSwgb3JpZ2luYWwgbWVzc2FnZSwgYW5kIGRvbWFpblxuICogXG4gKiBQZWFyIFByb3RvY29sIHZhbGlkYXRlczpcbiAqIDEuIFRoZSBzaWduYXR1cmUgbWF0Y2hlcyB0aGUgc2lnbmVkIG1lc3NhZ2VcbiAqIDIuIFRoZSB0aW1lc3RhbXAgaXMgd2l0aGluIGFjY2VwdGFibGUgd2luZG93IChibG9ja2VkIGJ5IHN5c3RlbSBjbG9jayBpc3N1ZSlcbiAqIDMuIFRoZSBtZXNzYWdlIHN0cnVjdHVyZSBtYXRjaGVzIHdoYXQgd2FzIHJlcXVlc3RlZFxuICogXG4gKiBAcGFyYW0gYWRkcmVzcyAtIFdhbGxldCBhZGRyZXNzXG4gKiBAcGFyYW0gc2lnbmF0dXJlIC0gRUlQLTcxMiBzaWduYXR1cmUgKGhleCBzdHJpbmcgd2l0aCAweCBwcmVmaXgpXG4gKiBAcGFyYW0gZWlwNzEyTWVzc2FnZSAtIFRoZSBvcmlnaW5hbCBFSVAtNzEyIG1lc3NhZ2Ugb2JqZWN0IChpbmNsdWRlcyBkb21haW4gYW5kIG1lc3NhZ2UpXG4gKiBAcmV0dXJucyBBY2Nlc3MgYW5kIHJlZnJlc2ggdG9rZW5zIChKV1QgZm9ybWF0KVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXV0aGVudGljYXRlV2l0aFNpZ25hdHVyZShcbiAgYWRkcmVzczogc3RyaW5nLFxuICBzaWduYXR1cmU6IHN0cmluZyxcbiAgZWlwNzEyTWVzc2FnZTogYW55XG4pOiBQcm9taXNlPEF1dGhUb2tlbnM+IHtcbiAgdHJ5IHtcbiAgICAvLyBQZWFyIFByb3RvY29sIC9hdXRoL2xvZ2luIGV4cGVjdHM6IG1ldGhvZCwgYWRkcmVzcywgY2xpZW50SWQsIGFuZCBkZXRhaWxzIG9iamVjdFxuICAgIC8vIFRoZSBkZXRhaWxzIG9iamVjdCBzaG91bGQgaW5jbHVkZSBzaWduYXR1cmUsIG1lc3NhZ2UsIGFuZCBkb21haW4gZm9yIHRpbWVzdGFtcCB2YWxpZGF0aW9uXG4gICAgLy8gU2VuZCBtZXNzYWdlIGFuZCBkb21haW4gZXhhY3RseSBhcyByZWNlaXZlZCAtIGRvbid0IG1vZGlmeSBzdHJ1Y3R1cmUgb3IgdHlwZXNcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgbWV0aG9kOiAnZWlwNzEyJyxcbiAgICAgIGFkZHJlc3M6IGFkZHJlc3MudG9Mb3dlckNhc2UoKSwgLy8gRW5zdXJlIGxvd2VyY2FzZSBmb3IgY29uc2lzdGVuY3lcbiAgICAgIGNsaWVudElkOiBDTElFTlRfSUQsXG4gICAgICBkZXRhaWxzOiB7XG4gICAgICAgIHNpZ25hdHVyZTogc2lnbmF0dXJlLFxuICAgICAgICAvLyBVc2UgdGhlIG9yaWdpbmFsIG1lc3NhZ2UgYW5kIGRvbWFpbiBvYmplY3RzIGRpcmVjdGx5IC0gZG9uJ3QgY29weSBvciBtb2RpZnlcbiAgICAgICAgbWVzc2FnZTogZWlwNzEyTWVzc2FnZS5tZXNzYWdlLFxuICAgICAgICBkb21haW46IGVpcDcxMk1lc3NhZ2UuZG9tYWluLFxuICAgICAgfSxcbiAgICB9XG5cbiAgICAvLyBEZWJ1ZzogTG9nIHdoYXQgd2UncmUgc2VuZGluZ1xuICAgIGNvbnNvbGUubG9nKCdBdXRoZW50aWNhdGluZyB3aXRoIFBlYXIgUHJvdG9jb2wuLi4nLCB7XG4gICAgICBhZGRyZXNzOiBwYXlsb2FkLmFkZHJlc3MsXG4gICAgICBjbGllbnRJZDogcGF5bG9hZC5jbGllbnRJZCxcbiAgICAgIG1ldGhvZDogcGF5bG9hZC5tZXRob2QsXG4gICAgICBzaWduYXR1cmVQcmVmaXg6IHNpZ25hdHVyZS5zdWJzdHJpbmcoMCwgMTApICsgJy4uLicsXG4gICAgICBoYXNNZXNzYWdlOiAhIXBheWxvYWQuZGV0YWlscy5tZXNzYWdlLFxuICAgICAgaGFzRG9tYWluOiAhIXBheWxvYWQuZGV0YWlscy5kb21haW4sXG4gICAgICBkZXRhaWxzTWVzc2FnZUtleXM6IHBheWxvYWQuZGV0YWlscy5tZXNzYWdlID8gT2JqZWN0LmtleXMocGF5bG9hZC5kZXRhaWxzLm1lc3NhZ2UpIDogW10sXG4gICAgICBkZXRhaWxzTWVzc2FnZVRpbWVzdGFtcDogcGF5bG9hZC5kZXRhaWxzLm1lc3NhZ2U/LnRpbWVzdGFtcCxcbiAgICB9KVxuICAgIGNvbnNvbGUubG9nKCdGdWxsIHBheWxvYWQgYmVpbmcgc2VudDonLCBKU09OLnN0cmluZ2lmeShwYXlsb2FkLCBudWxsLCAyKSlcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChcbiAgICAgIGAke0FQSV9CQVNFX1VSTH0vYXV0aC9sb2dpbmAsXG4gICAgICBwYXlsb2FkXG4gICAgKVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBhY2Nlc3NUb2tlbjogcmVzcG9uc2UuZGF0YS5hY2Nlc3NUb2tlbixcbiAgICAgIHJlZnJlc2hUb2tlbjogcmVzcG9uc2UuZGF0YS5yZWZyZXNoVG9rZW4sXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnJvcikpIHtcbiAgICAgIGNvbnN0IGVycm9yRGV0YWlscyA9IGVycm9yLnJlc3BvbnNlPy5kYXRhIHx8IGVycm9yLm1lc3NhZ2VcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZDonLCB7XG4gICAgICAgIHN0YXR1czogZXJyb3IucmVzcG9uc2U/LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogZXJyb3IucmVzcG9uc2U/LnN0YXR1c1RleHQsXG4gICAgICAgIGRhdGE6IGVycm9yRGV0YWlscyxcbiAgICAgIH0pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBQZWFyIFByb3RvY29sIGF1dGhlbnRpY2F0aW9uIGZhaWxlZDogJHtlcnJvci5yZXNwb25zZT8uc3RhdHVzfSAtICR7SlNPTi5zdHJpbmdpZnkoZXJyb3JEZXRhaWxzKX1gXG4gICAgICApXG4gICAgfVxuICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuLyoqXG4gKiBTaWduIEVJUC03MTIgbWVzc2FnZSB1c2luZyBwcml2YXRlIGtleSB3aXRoIGV0aGVycy5qc1xuICogXG4gKiDinIUgSU1QTEVNRU5URUQ6IFVzZXMgZXRoZXJzLmpzIHNpZ25UeXBlZERhdGEgdG8gc2lnbiB0aGUgc3RydWN0dXJlZCBtZXNzYWdlLlxuICogVGhpcyBmb2xsb3dzIHRoZSBFSVAtNzEyIHN0YW5kYXJkIGV4YWN0bHk6XG4gKiAtIFNpZ25zIGRvbWFpbiArIHR5cGVzICsgbWVzc2FnZVxuICogLSBSZXR1cm5zIHNpZ25hdHVyZSBpbiBoZXggZm9ybWF0ICgweCBwcmVmaXgpXG4gKiAtIFNpZ25hdHVyZSBwcm92ZXMgb3duZXJzaGlwIHdpdGhvdXQgZXhwb3NpbmcgcHJpdmF0ZSBrZXlcbiAqIFxuICogQHBhcmFtIGVpcDcxMk1lc3NhZ2UgLSBUaGUgRUlQLTcxMiBtZXNzYWdlIG9iamVjdCBmcm9tIGdldEVJUDcxMk1lc3NhZ2VcbiAqIEBwYXJhbSBwcml2YXRlS2V5IC0gUHJpdmF0ZSBrZXkgZm9yIHNpZ25pbmcgKHdpdGggb3Igd2l0aG91dCAweCBwcmVmaXgpXG4gKiBAcmV0dXJucyBTaWduYXR1cmUgKGhleCBzdHJpbmcgd2l0aCAweCBwcmVmaXgpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduRUlQNzEyTWVzc2FnZShlaXA3MTJNZXNzYWdlOiBhbnksIHByaXZhdGVLZXk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIHdhbGxldCBmcm9tIHByaXZhdGUga2V5IChldGhlcnMgaGFuZGxlcyAweCBwcmVmaXggYXV0b21hdGljYWxseSlcbiAgICBjb25zdCB3YWxsZXQgPSBuZXcgZXRoZXJzLldhbGxldChwcml2YXRlS2V5KVxuICAgIFxuICAgIC8vIFNpZ24gdGhlIEVJUC03MTIgdHlwZWQgZGF0YSB1c2luZyBldGhlcnMgdjYgQVBJXG4gICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgd2FsbGV0LnNpZ25UeXBlZERhdGEoXG4gICAgICBlaXA3MTJNZXNzYWdlLmRvbWFpbixcbiAgICAgIGVpcDcxMk1lc3NhZ2UudHlwZXMsXG4gICAgICBlaXA3MTJNZXNzYWdlLm1lc3NhZ2VcbiAgICApXG4gICAgXG4gICAgcmV0dXJuIHNpZ25hdHVyZVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHNpZ24gRUlQLTcxMiBtZXNzYWdlOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApXG4gIH1cbn1cblxuLyoqXG4gKiBDb21wbGV0ZSBhdXRoZW50aWNhdGlvbiBmbG93OiBnZXQgbWVzc2FnZSwgc2lnbiwgYW5kIGF1dGhlbnRpY2F0ZVxuICogXG4gKiDinIUgSU1QTEVNRU5URUQ6IE9yY2hlc3RyYXRlcyB0aGUgY29tcGxldGUgRUlQLTcxMiBhdXRoZW50aWNhdGlvbiBmbG93LlxuICogXG4gKiBGbG93OlxuICogMS4gR2V0IGZyZXNoIEVJUC03MTIgbWVzc2FnZSBmcm9tIFBlYXIgUHJvdG9jb2wgKGluY2x1ZGVzIHNlcnZlci1nZW5lcmF0ZWQgdGltZXN0YW1wKVxuICogMi4gU2lnbiB0aGUgbWVzc2FnZSBpbW1lZGlhdGVseSB3aXRoIHRoZSBwcml2YXRlIGtleVxuICogMy4gQXV0aGVudGljYXRlIHdpdGggUGVhciBQcm90b2NvbCB1c2luZyB0aGUgc2lnbmF0dXJlXG4gKiBcbiAqIFRpbWluZyBpcyBjcml0aWNhbDogVGhlIHRpbWVzdGFtcCBpbiB0aGUgbWVzc2FnZSBtdXN0IGJlIGZyZXNoLiBXZSBtaW5pbWl6ZVxuICogZGVsYXkgYmV0d2VlbiBzdGVwcyB0byBwcmV2ZW50IGV4cGlyYXRpb24uXG4gKiBcbiAqIEBwYXJhbSBhZGRyZXNzIC0gV2FsbGV0IGFkZHJlc3NcbiAqIEBwYXJhbSBwcml2YXRlS2V5IC0gUHJpdmF0ZSBrZXkgZm9yIHNpZ25pbmdcbiAqIEByZXR1cm5zIEFjY2VzcyBhbmQgcmVmcmVzaCB0b2tlbnMgZm9yIGF1dGhlbnRpY2F0ZWQgQVBJIGNhbGxzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdXRoZW50aWNhdGVXaXRoUHJpdmF0ZUtleShcbiAgYWRkcmVzczogc3RyaW5nLFxuICBwcml2YXRlS2V5OiBzdHJpbmdcbik6IFByb21pc2U8QXV0aFRva2Vucz4ge1xuICB0cnkge1xuICAgIC8vIFN0ZXAgMTogR2V0IEVJUC03MTIgbWVzc2FnZSAoZ2V0IGl0IGZyZXNoIHJpZ2h0IGJlZm9yZSBzaWduaW5nIHRvIGF2b2lkIHRpbWVzdGFtcCBleHBpcmF0aW9uKVxuICAgIGNvbnNvbGUubG9nKGBTdGVwIDE6IEdldHRpbmcgZnJlc2ggRUlQLTcxMiBtZXNzYWdlIGZvciBhZGRyZXNzOiAke2FkZHJlc3N9YClcbiAgICBjb25zdCBlaXA3MTJNZXNzYWdlID0gYXdhaXQgZ2V0RUlQNzEyTWVzc2FnZShhZGRyZXNzKVxuICAgIGNvbnNvbGUubG9nKCfinIUgRUlQLTcxMiBtZXNzYWdlIHJlY2VpdmVkJylcbiAgICBcbiAgICAvLyBFeHRyYWN0IHRpbWVzdGFtcCBmcm9tIHRoZSBtZXNzYWdlXG4gICAgY29uc3QgdGltZXN0YW1wID0gZWlwNzEyTWVzc2FnZS5tZXNzYWdlPy50aW1lc3RhbXAgfHwgZWlwNzEyTWVzc2FnZS50aW1lc3RhbXBcbiAgICBjb25zb2xlLmxvZyhgICAgVGltZXN0YW1wIGZyb20gbWVzc2FnZTogJHt0aW1lc3RhbXB9YClcbiAgICBjb25zb2xlLmxvZyhgICAgQ3VycmVudCB0aW1lOiAke01hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApfWApXG4gICAgY29uc29sZS5sb2coYCAgIFRpbWUgZGlmZmVyZW5jZTogJHt0aW1lc3RhbXAgPyBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSAtIHRpbWVzdGFtcCA6ICd1bmtub3duJ30gc2Vjb25kc2ApXG4gICAgXG4gICAgLy8gU3RlcCAyOiBTaWduIHRoZSBtZXNzYWdlIGltbWVkaWF0ZWx5IGFmdGVyIHJlY2VpdmluZyBpdFxuICAgIGNvbnNvbGUubG9nKCdTdGVwIDI6IFNpZ25pbmcgRUlQLTcxMiBtZXNzYWdlIGltbWVkaWF0ZWx5Li4uJylcbiAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCBzaWduRUlQNzEyTWVzc2FnZShlaXA3MTJNZXNzYWdlLCBwcml2YXRlS2V5KVxuICAgIGNvbnNvbGUubG9nKGDinIUgTWVzc2FnZSBzaWduZWQuIFNpZ25hdHVyZTogJHtzaWduYXR1cmUuc3Vic3RyaW5nKDAsIDIwKX0uLi4ke3NpZ25hdHVyZS5zdWJzdHJpbmcoc2lnbmF0dXJlLmxlbmd0aCAtIDIwKX1gKVxuICAgIFxuICAgIC8vIFN0ZXAgMzogQXV0aGVudGljYXRlIHdpdGggc2lnbmF0dXJlIGltbWVkaWF0ZWx5IGFmdGVyIHNpZ25pbmdcbiAgICAvLyBJbmNsdWRlIHRoZSBmdWxsIEVJUC03MTIgbWVzc2FnZSBzdHJ1Y3R1cmUgKGRvbWFpbiBhbmQgbWVzc2FnZSkgZm9yIHRpbWVzdGFtcCB2YWxpZGF0aW9uXG4gICAgY29uc29sZS5sb2coJ1N0ZXAgMzogQXV0aGVudGljYXRpbmcgd2l0aCBQZWFyIFByb3RvY29sIGltbWVkaWF0ZWx5Li4uJylcbiAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCBhdXRoZW50aWNhdGVXaXRoU2lnbmF0dXJlKGFkZHJlc3MsIHNpZ25hdHVyZSwgZWlwNzEyTWVzc2FnZSlcbiAgICBjb25zb2xlLmxvZygn4pyFIEF1dGhlbnRpY2F0aW9uIHN1Y2Nlc3NmdWwhJylcbiAgICBcbiAgICByZXR1cm4gdG9rZW5zXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gYXV0aGVudGljYXRlV2l0aFByaXZhdGVLZXk6JywgZXJyb3IpXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuXG4iXSwibmFtZXMiOlsiYXhpb3MiLCJldGhlcnMiLCJBUElfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfUEVBUl9BUElfVVJMIiwiQ0xJRU5UX0lEIiwiUEVBUl9DTElFTlRfSUQiLCJnZXRFSVA3MTJNZXNzYWdlIiwiYWRkcmVzcyIsInJlc3BvbnNlIiwiZ2V0IiwicGFyYW1zIiwiY2xpZW50SWQiLCJtZXNzYWdlRGF0YSIsImRhdGEiLCJ0aW1lc3RhbXAiLCJtZXNzYWdlIiwiY3VycmVudFRpbWUiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwidGltZURpZmYiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsInRpbWVEaWZmZXJlbmNlIiwibWVzc2FnZUFkZHJlc3MiLCJoYXNNZXNzYWdlIiwiaGFzRG9tYWluIiwiZG9tYWluIiwibWVzc2FnZUtleXMiLCJPYmplY3QiLCJrZXlzIiwid2FybiIsImF1dGhlbnRpY2F0ZVdpdGhTaWduYXR1cmUiLCJzaWduYXR1cmUiLCJlaXA3MTJNZXNzYWdlIiwicGF5bG9hZCIsIm1ldGhvZCIsInRvTG93ZXJDYXNlIiwiZGV0YWlscyIsInNpZ25hdHVyZVByZWZpeCIsInN1YnN0cmluZyIsImRldGFpbHNNZXNzYWdlS2V5cyIsImRldGFpbHNNZXNzYWdlVGltZXN0YW1wIiwicG9zdCIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwiZXJyb3IiLCJpc0F4aW9zRXJyb3IiLCJlcnJvckRldGFpbHMiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiRXJyb3IiLCJzaWduRUlQNzEyTWVzc2FnZSIsInByaXZhdGVLZXkiLCJ3YWxsZXQiLCJXYWxsZXQiLCJzaWduVHlwZWREYXRhIiwidHlwZXMiLCJhdXRoZW50aWNhdGVXaXRoUHJpdmF0ZUtleSIsImxlbmd0aCIsInRva2VucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/ethers","vendor-chunks/@noble","vendor-chunks/axios","vendor-chunks/mime-db","vendor-chunks/aes-js","vendor-chunks/follow-redirects","vendor-chunks/form-data","vendor-chunks/get-intrinsic","vendor-chunks/asynckit","vendor-chunks/combined-stream","vendor-chunks/mime-types","vendor-chunks/proxy-from-env","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/function-bind","vendor-chunks/es-set-tostringtag","vendor-chunks/get-proto","vendor-chunks/call-bind-apply-helpers","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/gopd","vendor-chunks/es-define-property","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauthenticate%2Froute&page=%2Fapi%2Fauthenticate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauthenticate%2Froute.ts&appDir=%2FUsers%2Fkylaangeles%2FDesktop%2FArbit-Backend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fkylaangeles%2FDesktop%2FArbit-Backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();